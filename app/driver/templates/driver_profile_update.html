{% extends 'driver_masterlayout.html' %}

{% block body %}

<style>
#gender {
float:left;
}
  #gender li {
  display: inline-block;
  margin-left:6px;
  }

  .avatar-pic {
width: 150px;
}


</style>
<!-- ================ contact section start ================= -->
<section class="contact-section section_padding">
    <div class="container">

        <div class="row">
            <div class="col-12">
                <h2 class="contact-title">Update Profile</h2>
            </div>
            <div class="col-lg-8">
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                <ul class=flashes>
                    {% for message in messages %}
                    <li class="alert alert-info">{{ message }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                {% endwith %}
                <form action="{{ url_for('driver_bp.update_profile') }}" class="form-contact contact_form"
                      method="post">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label style="font-weight:bold;">Describe yourself</label>
                                {{ form.profiledescription(class_='form-control w-100',placeholder='Describe
                                yourself',cols='30', rows='8') }}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label style="font-weight:bold;">Full name</label>
                                {{form.fullname(placeholder='Full name',class_='form-control')}}
                                {% if form.fullname.errors %}
                                <p style="color:red;"> {{ form.fullname.errors[0] }}</p>
                                {% endif %}

                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label style="font-weight:bold;">Email</label>
                                {{form.email(placeholder='Email Address',class_='form-control')}}
                                {% if form.email.errors %}
                                <p style="color:red;"> {{ form.email.errors[0] }}</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label style="font-weight:bold;">Zipcode</label>
                                {{form.zipcode(placeholder='Zip code',class_='form-control')}}
                                {% if form.zipcode.errors %}
                                <p style="color:red;">{{ form.zipcode.errors[0] }}</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label style="font-weight:bold;">Gender</label>
                                {{form.gender(class_='form-check-input',style='float:left;margin-left:20px;')}}

                            </div>
                            {% if form.gender.errors %}
                            <p style="color:red;"> {{ form.gender.errors[0] }}</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-group mt-3">
                        {{ form.csrf_token }}
                        {{form.submit(class_='button button-contactForm btn_4 boxed-btn')}}
                    </div>
                </form>
            </div>

            <!--          profile image section -->
            <div class="col-md-4">
                <div class="media contact-info">
                    <form action="{{ url_for('driver_bp.upload_profile_image') }}" class="md-form"
                          enctype="multipart/form-data" method="post">
                        <div class="file-field">
                            <div class="mb-4">
                                {% if user.profile_image == "0" %}
                                <img alt="example placeholder avatar"
                                     class="rounded-circle z-depth-1-half avatar-pic"
                                     src="https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg">
                                {% else %}
                                <img alt="example placeholder avatar"
                                     class="rounded-circle z-depth-1-half avatar-pic"
                                     src="{{ url_for('static', filename='uploads/'+user.profile_image) }}">
                                {% endif %}
                            </div>
                            <div class="d-flex justify-content-center">
                                <div class="btn btn-mdb-color btn-rounded float-right">
                                    {{imageForm.image}}
                                    {% if imageForm.image.errors %}
                                    <p style="color:red;"> {{ imageForm.image.errors[0] }}</p>
                                    {% endif %}
                                    {{ imageForm.csrf_token }}
                                </div>
                            </div>
                        </div>
                        {{imageForm.submit(class_='button button-contactForm btn_4 boxed-btn')}}
                    </form>
                </div>

            </div>
        </div>
    </div>
</section>
<!-- ================ contact section end ================= -->

{% endblock %}